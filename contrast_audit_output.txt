00:00 +0: loading E:/todolist/test/accessibility/contrast_audit_test.dart
00:00 +0: WCAG 2.1 AA 对比度测试 游戏化颜色系统对比度测试 - 亮色主题

发现 9 个对比度问题:

### 完成状态颜色
**位置**: `lib/src/core/design/gamification_colors.dart:28`
**前景色**: #4CAF50
**背景色**: #FEF7FF
**当前对比度**: 2.64:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 进行中状态颜色
**位置**: `lib/src/core/design/gamification_colors.dart:29`
**前景色**: #2196F3
**背景色**: #FEF7FF
**当前对比度**: 2.97:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 稀有度颜色: 普通
**位置**: `lib/src/core/design/gamification_colors.dart:33`
**前景色**: #9E9E9E
**背景色**: #FEF7FF
**当前对比度**: 2.55:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 稀有度颜色: 罕见
**位置**: `lib/src/core/design/gamification_colors.dart:34`
**前景色**: #4CAF50
**背景色**: #FEF7FF
**当前对比度**: 2.64:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 稀有度颜色: 稀有
**位置**: `lib/src/core/design/gamification_colors.dart:35`
**前景色**: #2196F3
**背景色**: #FEF7FF
**当前对比度**: 2.97:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 稀有度颜色: 传说
**位置**: `lib/src/core/design/gamification_colors.dart:37`
**前景色**: #FF9800
**背景色**: #FEF7FF
**当前对比度**: 2.05:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 统计卡片: 完成任务
**位置**: `lib/src/core/design/gamification_colors.dart:44`
**前景色**: #4CAF50
**背景色**: #FEF7FF
**当前对比度**: 2.64:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 统计卡片: 连续打卡
**位置**: `lib/src/core/design/gamification_colors.dart:45`
**前景色**: #FF9800
**背景色**: #FEF7FF
**当前对比度**: 2.05:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 统计卡片: 专注时长
**位置**: `lib/src/core/design/gamification_colors.dart:46`
**前景色**: #2196F3
**背景色**: #FEF7FF
**当前对比度**: 2.97:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following TestFailure was thrown building Builder(dirty, dependencies: [InheritedCupertinoTheme,
_InheritedTheme, _LocalizationsScope-[GlobalKey#24f0c]]):
Expected: empty
  Actual: [
            ContrastIssue:### 完成状态颜色
          **位置**: `lib/src/core/design/gamification_colors.dart:28`
          **前景色**: #4CAF50
          **背景色**: #FEF7FF
          **当前对比度**: 2.64:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 进行中状态颜色
          **位置**: `lib/src/core/design/gamification_colors.dart:29`
          **前景色**: #2196F3
          **背景色**: #FEF7FF
          **当前对比度**: 2.97:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 稀有度颜色: 普通
          **位置**: `lib/src/core/design/gamification_colors.dart:33`
          **前景色**: #9E9E9E
          **背景色**: #FEF7FF
          **当前对比度**: 2.55:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 稀有度颜色: 罕见
          **位置**: `lib/src/core/design/gamification_colors.dart:34`
          **前景色**: #4CAF50
          **背景色**: #FEF7FF
          **当前对比度**: 2.64:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 稀有度颜色: 稀有
          **位置**: `lib/src/core/design/gamification_colors.dart:35`
          **前景色**: #2196F3
          **背景色**: #FEF7FF
          **当前对比度**: 2.97:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 稀有度颜色: 传说
          **位置**: `lib/src/core/design/gamification_colors.dart:37`
          **前景色**: #FF9800
          **背景色**: #FEF7FF
          **当前对比度**: 2.05:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 统计卡片: 完成任务
          **位置**: `lib/src/core/design/gamification_colors.dart:44`
          **前景色**: #4CAF50
          **背景色**: #FEF7FF
          **当前对比度**: 2.64:1
          **要求对比度**: 3.0:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 统计卡片: 连续打卡
          **位置**: `lib/src/core/design/gamification_colors.dart:45`
          **前景色**: #FF9800
          **背景色**: #FEF7FF
          **当前对比度**: 2.05:1
          **要求对比度**: 3.0:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 统计卡片: 专注时长
          **位置**: `lib/src/core/design/gamification_colors.dart:46`
          **前景色**: #2196F3
          **背景色**: #FEF7FF
          **当前对比度**: 2.97:1
          **要求对比度**: 3.0:1
          **修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整

          ]
发现 9 个严重对比度问题（对比度 < 3:1）

The relevant error-causing widget was:
  Builder Builder:file:///E:/todolist/test/accessibility/contrast_audit_test.dart:15:17

When the exception was thrown, this was the stack:
#0      fail (package:matcher/src/expect/expect.dart:149:31)
#1      _expect (package:matcher/src/expect/expect.dart:144:3)
#2      expect (package:matcher/src/expect/expect.dart:56:3)
#3      expect (package:flutter_test/src/widget_tester.dart:473:18)
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:31:15)
#5      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#6      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#7      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#8      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#9      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (228 frames)
#238    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#239    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#240    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#705    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#706    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#707    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#708    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#709    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#710    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#711    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#712    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#713    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#714    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#715    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#716    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#717    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#718    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#719    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#720    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#721    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#722    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#723    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#724    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#725    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#726    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#727    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#728    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#729    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#730    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#731    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#732    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#733    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#734    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#735    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#736    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#737    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#738    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#739    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#740    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#741    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#742    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#743    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#744    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#745    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#746    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#747    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#748    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#749    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#750    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#751    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#752    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#753    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#754    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#755    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#756    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#757    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#758    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#759    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#760    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#761    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#762    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#763    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#764    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#765    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#766    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#767    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#768    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#769    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#770    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#771    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#772    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#775    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#776    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#777    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#780    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#781    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#782    main.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:12:20)
#783    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#784    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -1: WCAG 2.1 AA 对比度测试 游戏化颜色系统对比度测试 - 亮色主题 [E]
  Test failed. See exception logs above.
  The test description was: 游戏化颜色系统对比度测试 - 亮色主题
  
00:00 +0 -1: WCAG 2.1 AA 对比度测试 游戏化颜色系统对比度测试 - 暗色主题

暗色主题发现 2 个对比度问题:

### 稀有度颜色: 史诗
**位置**: `lib/src/core/design/gamification_colors.dart:36`
**前景色**: #9C27B0
**背景色**: #141218
**当前对比度**: 2.95:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #FFFFFF 或使用 ContrastChecker.suggestForegroundColor() 自动调整

### 统计卡片: 最长连续
**位置**: `lib/src/core/design/gamification_colors.dart:47`
**前景色**: #9C27B0
**背景色**: #141218
**当前对比度**: 2.95:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #FFFFFF 或使用 ContrastChecker.suggestForegroundColor() 自动调整

══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following TestFailure was thrown building Builder(dirty, dependencies: [InheritedCupertinoTheme,
_InheritedTheme, _LocalizationsScope-[GlobalKey#0dd1e]]):
Expected: empty
  Actual: [
            ContrastIssue:### 稀有度颜色: 史诗
          **位置**: `lib/src/core/design/gamification_colors.dart:36`
          **前景色**: #9C27B0
          **背景色**: #141218
          **当前对比度**: 2.95:1
          **要求对比度**: 4.5:1
          **修复建议**: 将前景色改为 #FFFFFF 或使用 ContrastChecker.suggestForegroundColor() 自动调整
          ,
            ContrastIssue:### 统计卡片: 最长连续
          **位置**: `lib/src/core/design/gamification_colors.dart:47`
          **前景色**: #9C27B0
          **背景色**: #141218
          **当前对比度**: 2.95:1
          **要求对比度**: 3.0:1
          **修复建议**: 将前景色改为 #FFFFFF 或使用 ContrastChecker.suggestForegroundColor() 自动调整

          ]
暗色主题发现 2 个严重对比度问题

The relevant error-causing widget was:
  Builder Builder:file:///E:/todolist/test/accessibility/contrast_audit_test.dart:54:17

When the exception was thrown, this was the stack:
#0      fail (package:matcher/src/expect/expect.dart:149:31)
#1      _expect (package:matcher/src/expect/expect.dart:144:3)
#2      expect (package:matcher/src/expect/expect.dart:56:3)
#3      expect (package:flutter_test/src/widget_tester.dart:473:18)
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:68:15)
#5      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#6      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#7      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#8      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#9      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (228 frames)
#238    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#239    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#240    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#705    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#706    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#707    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#708    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#709    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#710    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#711    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#712    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#713    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#714    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#715    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#716    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#717    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#718    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#719    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#720    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#721    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#722    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#723    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#724    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#725    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#726    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#727    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#728    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#729    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#730    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#731    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#732    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#733    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#734    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#735    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#736    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#737    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#738    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#739    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#740    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#741    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#742    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#743    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#744    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#745    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#746    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#747    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#748    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#749    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#750    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#751    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#752    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#753    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#754    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#755    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#756    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#757    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#758    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#759    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#760    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#761    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#762    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#763    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#764    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#765    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#766    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#767    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#768    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#769    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#770    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#771    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#772    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#775    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#776    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#777    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#780    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#781    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#782    main.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:51:20)
#783    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#784    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -2: WCAG 2.1 AA 对比度测试 游戏化颜色系统对比度测试 - 暗色主题 [E]
  Test failed. See exception logs above.
  The test description was: 游戏化颜色系统对比度测试 - 暗色主题
  
00:00 +0 -2: WCAG 2.1 AA 对比度测试 Alpha透明度颜色对比度测试
00:00 +1 -2: WCAG 2.1 AA 对比度测试 对比度计算准确性测试
00:00 +1 -3: WCAG 2.1 AA 对比度测试 对比度计算准确性测试 [E]
  Expected: a value greater than <3.0>
    Actual: <2.7795697203442264>
     Which: is not a value greater than <3.0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 473:18  expect
  test\accessibility\contrast_audit_test.dart 142:7   main.<fn>.<fn>
  
00:00 +1 -3: WCAG 2.1 AA 对比度测试 WCAG标准检查测试
浅灰与深灰对比度: 5.35:1
00:00 +2 -3: WCAG 2.1 AA 对比度测试 生成完整审计报告

================================================================================
# WCAG 2.1 AA 完整对比度审计报告

生成时间: 2025-10-20 17:22:34.821215

---

## 亮色主题审计

# WCAG 2.1 AA 颜色对比度审计报告

总计发现 9 个问题

- 🔴 严重 (对比度 < 3:1): 9
- 🟠 高 (对比度 3:1-4.5:1): 0
- 🟡 中 (对比度 4.5:1-7:1): 0

## 🔴 严重问题 (必须立即修复)

### 完成状态颜色
**位置**: `lib/src/core/design/gamification_colors.dart:28`
**前景色**: #4CAF50
**背景色**: #FEF7FF
**当前对比度**: 2.64:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 进行中状态颜色
**位置**: `lib/src/core/design/gamification_colors.dart:29`
**前景色**: #2196F3
**背景色**: #FEF7FF
**当前对比度**: 2.97:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 稀有度颜色: 普通
**位置**: `lib/src/core/design/gamification_colors.dart:33`
**前景色**: #9E9E9E
**背景色**: #FEF7FF
**当前对比度**: 2.55:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 稀有度颜色: 罕见
**位置**: `lib/src/core/design/gamification_colors.dart:34`
**前景色**: #4CAF50
**背景色**: #FEF7FF
**当前对比度**: 2.64:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 稀有度颜色: 稀有
**位置**: `lib/src/core/design/gamification_colors.dart:35`
**前景色**: #2196F3
**背景色**: #FEF7FF
**当前对比度**: 2.97:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 稀有度颜色: 传说
**位置**: `lib/src/core/design/gamification_colors.dart:37`
**前景色**: #FF9800
**背景色**: #FEF7FF
**当前对比度**: 2.05:1
**要求对比度**: 4.5:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 统计卡片: 完成任务
**位置**: `lib/src/core/design/gamification_colors.dart:44`
**前景色**: #4CAF50
**背景色**: #FEF7FF
**当前对比度**: 2.64:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 统计卡片: 连续打卡
**位置**: `lib/src/core/design/gamification_colors.dart:45`
**前景色**: #FF9800
**背景色**: #FEF7FF
**当前对比度**: 2.05:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整


### 统计卡片: 专注时长
**位置**: `lib/src/core/design/gamification_colors.dart:46`
**前景色**: #2196F3
**背景色**: #FEF7FF
**当前对比度**: 2.97:1
**要求对比度**: 3.0:1
**修复建议**: 将前景色改为 #000000 或使用 ContrastChecker.suggestForegroundColor() 自动调整




---

## 统计摘要

- 总问题数: 9
- 严重问题: 9
- 高优先级: 0
- 中优先级: 0

================================================================================

00:00 +3 -3: WCAG 2.1 AA 对比度测试 颜色建议算法测试
原始对比度: 1.62:1
建议后对比度: 18.10:1
00:00 +4 -3: WCAG 2.1 AA 对比度测试 统计卡片颜色对比度测试

统计卡片颜色对比度测试:
完成任务绿: 2.64:1 ❌
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following TestFailure was thrown building Builder(dirty, dependencies: [InheritedCupertinoTheme,
_InheritedTheme, _LocalizationsScope-[GlobalKey#25131]]):
Expected: true
  Actual: <false>
完成任务绿 对比度不足（2.64:1 < 3:1）

The relevant error-causing widget was:
  Builder Builder:file:///E:/todolist/test/accessibility/contrast_audit_test.dart:201:17

When the exception was thrown, this was the stack:
#0      fail (package:matcher/src/expect/expect.dart:149:31)
#1      _expect (package:matcher/src/expect/expect.dart:144:3)
#2      expect (package:matcher/src/expect/expect.dart:56:3)
#3      expect (package:flutter_test/src/widget_tester.dart:473:18)
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:220:17)
#5      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#6      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#7      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#8      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#9      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (228 frames)
#238    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#239    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#240    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#705    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#706    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#707    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#708    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#709    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#710    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#711    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#712    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#713    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#714    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#715    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#716    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#717    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#718    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#719    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#720    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#721    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#722    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#723    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#724    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#725    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#726    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#727    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#728    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#729    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#730    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#731    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#732    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#733    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#734    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#735    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#736    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#737    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#738    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#739    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#740    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#741    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#742    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#743    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#744    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#745    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#746    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#747    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#748    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#749    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#750    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#751    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#752    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#753    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#754    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#755    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#756    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#757    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#758    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#759    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#760    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#761    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#762    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#763    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#764    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#765    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#766    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#767    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#768    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#769    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#770    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#771    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#772    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#775    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#776    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#777    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#780    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#781    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#782    main.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:198:20)
#783    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#784    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +4 -4: WCAG 2.1 AA 对比度测试 统计卡片颜色对比度测试 [E]
  Test failed. See exception logs above.
  The test description was: 统计卡片颜色对比度测试
  
00:00 +4 -4: WCAG 2.1 AA 对比度测试 稀有度颜色对比度测试

稀有度颜色对比度测试:
普通: 2.55:1 ❌
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following TestFailure was thrown building Builder(dirty, dependencies: [InheritedCupertinoTheme,
_InheritedTheme, _LocalizationsScope-[GlobalKey#f65ba]]):
Expected: true
  Actual: <false>
稀有度[普通]对比度不足（2.55:1 < 4.5:1）

The relevant error-causing widget was:
  Builder Builder:file:///E:/todolist/test/accessibility/contrast_audit_test.dart:238:17

When the exception was thrown, this was the stack:
#0      fail (package:matcher/src/expect/expect.dart:149:31)
#1      _expect (package:matcher/src/expect/expect.dart:144:3)
#2      expect (package:matcher/src/expect/expect.dart:56:3)
#3      expect (package:flutter_test/src/widget_tester.dart:473:18)
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:257:17)
#5      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#6      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#7      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#8      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#9      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (228 frames)
#238    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#239    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#240    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#705    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#706    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#707    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#708    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#709    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#710    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#711    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#712    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#713    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#714    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#715    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#716    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#717    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#718    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#719    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#720    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#721    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#722    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#723    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#724    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#725    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#726    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#727    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#728    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#729    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#730    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#731    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#732    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#733    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#734    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#735    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#736    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#737    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#738    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#739    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#740    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#741    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#742    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#743    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#744    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#745    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#746    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#747    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#748    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#749    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#750    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#751    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#752    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#753    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#754    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#755    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#756    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#757    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#758    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#759    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#760    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#761    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#762    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#763    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#764    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#765    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#766    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#767    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#768    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#769    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#770    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#771    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#772    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#775    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#776    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#777    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#780    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#781    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#782    main.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:235:20)
#783    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#784    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +4 -5: WCAG 2.1 AA 对比度测试 稀有度颜色对比度测试 [E]
  Test failed. See exception logs above.
  The test description was: 稀有度颜色对比度测试
  
00:00 +4 -5: WCAG 2.1 AA 对比度测试 状态颜色对比度测试

状态颜色对比度测试:
完成: 2.64:1 ❌
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following TestFailure was thrown building Builder(dirty, dependencies: [InheritedCupertinoTheme,
_InheritedTheme, _LocalizationsScope-[GlobalKey#80182]]):
Expected: true
  Actual: <false>
状态[完成]对比度不足（2.64:1 < 4.5:1）

The relevant error-causing widget was:
  Builder Builder:file:///E:/todolist/test/accessibility/contrast_audit_test.dart:275:17

When the exception was thrown, this was the stack:
#0      fail (package:matcher/src/expect/expect.dart:149:31)
#1      _expect (package:matcher/src/expect/expect.dart:144:3)
#2      expect (package:matcher/src/expect/expect.dart:56:3)
#3      expect (package:flutter_test/src/widget_tester.dart:473:18)
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:292:17)
#5      Builder.build (package:flutter/src/widgets/basic.dart:8226:48)
#6      StatelessElement.build (package:flutter/src/widgets/framework.dart:5791:49)
#7      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5723:15)
#8      Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#9      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5705:5)
#10     ComponentElement.mount (package:flutter/src/widgets/framework.dart:5699:5)
...     Normal element mounting (228 frames)
#238    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#239    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7169:36)
#240    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7185:32)
...     Normal element mounting (465 frames)
#705    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4548:16)
#706    Element.updateChild (package:flutter/src/widgets/framework.dart:3998:20)
#707    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#708    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#709    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#710    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#711    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#712    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#713    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#714    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#715    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#716    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#717    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#718    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#719    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#720    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#721    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#722    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#723    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#724    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#725    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#726    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#727    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#728    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#729    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#730    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#731    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#732    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#733    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#734    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#735    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#736    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#737    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#738    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#739    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#740    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#741    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#742    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#743    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#744    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#745    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#746    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#747    ProxyElement.update (package:flutter/src/widgets/framework.dart:6051:5)
#748    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#749    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#750    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#751    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#752    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#753    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#754    StatelessElement.update (package:flutter/src/widgets/framework.dart:5797:5)
#755    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#756    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5747:16)
#757    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5884:11)
#758    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#759    StatefulElement.update (package:flutter/src/widgets/framework.dart:5909:5)
#760    Element.updateChild (package:flutter/src/widgets/framework.dart:3982:15)
#761    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1716:16)
#762    RootElement.update (package:flutter/src/widgets/binding.dart:1694:5)
#763    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1708:7)
#764    Element.rebuild (package:flutter/src/widgets/framework.dart:5435:7)
#765    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2695:15)
#766    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2752:11)
#767    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3056:18)
#768    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#769    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#770    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#771    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#772    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#775    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#776    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#777    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#780    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#781    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#782    main.<anonymous closure>.<anonymous closure> (file:///E:/todolist/test/accessibility/contrast_audit_test.dart:272:20)
#783    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#784    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +4 -6: WCAG 2.1 AA 对比度测试 状态颜色对比度测试 [E]
  Test failed. See exception logs above.
  The test description was: 状态颜色对比度测试
  
00:00 +4 -6: Some tests failed.
